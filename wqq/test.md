**Задание 22: Диагностика и исправление проблем с Port Forwarding на маршрутизаторе**

---

### 1. **Проверка базовой конфигурации Port Forwarding**

* Подключитесь к интерфейсу маршрутизатора (через веб или консоль).
* Убедитесь, что правила порт-форвардинга созданы корректно: правильный внешний порт, внутренний IP-адрес и внутренний порт.
* Проверьте, что внутренний IP-адрес устройства статический или закреплен через DHCP-резервацию.

---

### 2. **Проверка правильности назначения интерфейсов**

* Убедитесь, что порт-форвардинг настроен на правильном внешнем интерфейсе (WAN).
* Проверьте, что внутренний IP-адрес соответствует нужному устройству.

---

### 3. **Проверка доступности внутреннего сервиса**

* Проверьте, что сервис на внутреннем устройстве действительно слушает нужный порт (например, с помощью `netstat` или утилит для проверки портов).
* Проверьте, что брандмауэр на внутреннем устройстве не блокирует входящие соединения.

---

### 4. **Проверка NAT и правил безопасности маршрутизатора**

* Убедитесь, что NAT правильно настроен и нет конфликтующих правил.
* Проверьте, нет ли на маршрутизаторе правил firewall, блокирующих входящий трафик на заданный порт.

---

### 5. **Проверка внешнего IP-адреса**

* Убедитесь, что маршрутизатор имеет публичный (внешний) IP-адрес, а не за NAT провайдера (Double NAT).
* Если за Double NAT, порт-форвардинг нужно настраивать и на верхнем (провайдерском) маршрутизаторе.

---

### 6. **Тестирование доступа**

* С внешней сети (не из локальной), проверьте открытость порта с помощью сервисов типа **canyouseeme.org** или команды:

  ```
  telnet <внешний_IP> <порт>
  ```
* Для локального тестирования используйте внутренний IP и порт.

---

### 7. **Проверка логов и перезагрузка**

* Посмотрите логи маршрутизатора на предмет ошибок.
* Перезагрузите маршрутизатор, чтобы применить изменения.

---

### 8. **Использование диагностики маршрутизатора**

* Некоторые устройства имеют встроенные инструменты диагностики port forwarding — используйте их.

---

### 9. **Дополнительные проверки**

* Проверьте, не включен ли UPnP, который может конфликтовать с ручной настройкой портов.
* Убедитесь, что на внутреннем устройстве нет настроек, блокирующих соединения (например, антивирус, firewall).

---

### 10. **Документирование изменений**

* Запишите все настройки и изменения.
* Настройте мониторинг и регулярную проверку доступности сервисов.

---

Эти шаги помогут выявить и устранить причины неработающего port forwarding и правильно настроить переадресацию портов на маршрутизаторе.


**Задание 23: Диагностика и устранение проблем с настройкой Wi-Fi на Windows Server**

---

### 1. **Проверка аппаратного обеспечения**

* Убедитесь, что на сервере установлен и корректно подключен Wi-Fi адаптер.
* Проверьте, поддерживает ли сервер работа с Wi-Fi (некоторые серверные версии Windows ограничивают работу с беспроводными адаптерами).

---

### 2. **Проверка драйверов**

* Откройте **Диспетчер устройств**.
* Убедитесь, что драйвер Wi-Fi адаптера установлен и не содержит ошибок.
* При необходимости обновите драйвер до последней версии с сайта производителя.

---

### 3. **Проверка службы WLAN**

* Убедитесь, что служба **WLAN AutoConfig** запущена.
* В командной строке:

  ```
  sc query wlansvc
  ```
* Если служба остановлена — запустите:

  ```
  net start wlansvc
  ```

---

### 4. **Настройка сети Wi-Fi**

* Через **Параметры** или **Центр управления сетями** добавьте новую беспроводную сеть.
* Введите корректные параметры безопасности (SSID, тип шифрования, пароль).
* Убедитесь, что сервер подключается к правильной сети.

---

### 5. **Проверка ограничений серверной ОС**

* Windows Server по умолчанию не предназначен для работы в качестве Wi-Fi клиента — убедитесь, что в роли сервера это допустимо.
* Возможно, потребуется установка дополнительных компонентов (например, роли Wireless LAN Service через Server Manager).

---

### 6. **Диагностика подключения**

* Используйте команду:

  ```
  netsh wlan show interfaces
  ```

  чтобы проверить статус Wi-Fi интерфейса.
* Проверьте наличие IP-адреса:

  ```
  ipconfig /all
  ```
* Выполните пинг маршрутизатора по локальному IP.

---

### 7. **Проверка политики безопасности и групповых политик**

* Убедитесь, что политики не блокируют подключение по Wi-Fi.
* Проверьте локальные и групповые политики, которые могут ограничивать беспроводные подключения.

---

### 8. **Проверка настроек брандмауэра**

* Убедитесь, что брандмауэр не блокирует сетевые подключения по Wi-Fi.
* Добавьте необходимые правила для разрешения трафика.

---

### 9. **Перезагрузка и повторное подключение**

* Перезагрузите сервер.
* Попробуйте повторно подключиться к Wi-Fi сети.

---

### 10. **Альтернативы и рекомендации**

* Если использование Wi-Fi на сервере невозможно или нежелательно, рассмотрите подключение через проводную сеть.
* Для доступа беспроводных клиентов используйте отдельные точки доступа или маршрутизаторы.

---

Эти шаги помогут выявить и устранить проблемы с настройкой Wi-Fi на Windows Server и обеспечить стабильное беспроводное подключение.

